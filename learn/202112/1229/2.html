<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style type="text/css">
		*{
			margin: 0;
			padding: 0;
		}
		.all{
			background-color: #000000;
			color: #fff;
			width: 500px;
		}
		button{
			width: 100px;
		}
		.last,.next{
			color: #666;
		}
		span{
			width: calc(100%/7);
			text-align: center;
		}
		.day,ul{
			display: flex;
			flex-wrap: wrap;
		}
			li{
				text-align: center;
				width: calc(100%/7);
				list-style-type: none;
				flex-grow: 1;
			}
			.active{
				background-color: #0000FF;
			}
			.butt{
				display: flex;
			}
			.butt span{
				flex-grow: 1;
				text-align: left;
			}
		</style>
	</head>
	<body>
		<div class="all">
		<div class="big">
			<h2></h2>
			<p></p>
		</div>
		<div class="butt">
			<span></span><button>上</button><button>下</button>
		</div>
		<div class="day">
			<span>一</span>
			<span>二</span>
			<span>三</span>
			<span>四</span>
			<span>五</span>
			<span>六</span>
			<span>七</span>
			<ul>
			<li class="last">29</li>
			<li class="last">30</li>
			<li>1</li>
			<li>2</li>
			<li>3</li>
			<li>4</li>
			<li>5</li>
			<li>6</li>
			<li>7</li>
			<li>8</li>
			<li>9</li>
			<li>10</li>
			<li>11</li>
			<li>12</li>
			<li>13</li>
			<li>14</li>
			<li>15</li>
			<li>16</li>
			<li>17</li>
			<li>18</li>
			<li>19</li>
			<li>20</li>
			<li>21</li>
			<li>22</li>
			<li>23</li>
			<li>24</li>
			<li>25</li>
			<li>26</li>
			<li>27</li>
			<li>28</li>
			<li class="active">29</li>
			<li>30</li>
			<li>31</li>
			<li class="next">1</li>
			<li class="next">2</li>
			</ul>
		</div>
		</div>
		
		
		<script type="text/javascript">
			let nowTime = document.querySelector('.big h2'),
			nowAll = document.querySelector('.big p'),
			half = document.querySelector('.butt span'),
			aButton = document.querySelectorAll('.butt button'),
			oUl = document.querySelector('.day ul'),
			aSpan = document.querySelectorAll('.day span')
			now= new Date(),
			tHours = now.getHours(),
			tMinutes = now.getMinutes(),
			tSeconds = now.getSeconds(),
			tDay = now.getDay(),
			tyear = now.getFullYear(),
			tmonth = now.getMonth()+1,
			tdate = now.getDate(),
			str = '',
			nub = 0,
			nowlastday = new Date(tyear,tmonth,0).getDay(),
			nextdat = new Date(tyear,tmonth-1,1).getDay(),
			lastday = new Date(tyear,tmonth,0).getDate()
			console.log(lastday)
			half.innerHTML = tyear+'年'+tmonth+'月'
			nowAll.innerHTML = tyear+'年'+tmonth+'月'+tdate+'日'+'星期'+tDay
			nowTime.innerHTML = totwo(tHours) +':' +totwo(tMinutes) +':'+ totwo(tSeconds)
			
			setInterval(function(){
				let now= new Date(),
			tHours = now.getHours(),
			tMinutes = now.getMinutes(),
			tSeconds = now.getSeconds()
				nowTime.innerHTML = totwo(tHours) +':' +totwo(tMinutes) +':'+ totwo(tSeconds)
			},1000)
			
				aButton[0].onclick = function(){
					now.setMonth(now.getMonth()-1)
					render()
				}
				aButton[1].onclick = function(){
					now.setMonth(now.getMonth()+1)
					render()
				}
				function render(){
					nowlastday = new Date(now.getFullYear(),now.getMonth()+1,0).getDay(),
					nextdat = new Date(now.getFullYear(),now.getMonth()+1,1).getDay(),
					lastday = new Date(now.getFullYear(),now.getMonth()+1,0).getDate()
					
					half.innerHTML = now.getFullYear()+'年'+(now.getMonth()+1)+'月'
					
					str = ''
					for(let i=nextdat;i>0;i--){
						str += `<li class='last'>${lastday-i+1}</li>`
					}
					for(let i=0;i<lastday;i++){
						str += `<li>${i}</li>`
					}
					for(let i=0;i<aSpan.length-nowlastday;i++){
						str += `<li class='next'>${i+1}</li>`
					}
					oUl.innerHTML = str
				}
				
				function totwo(n){
					return (n<10)?'0'+n:''+n
				}
		</script>
	</body>
</html>
