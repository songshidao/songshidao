<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style type="text/css">
			div{
				width: 100px;
				height: 100px;
				border: 1px solid #000000;
				position: absolute;
			}
			.div1{
				background-color: red;
			}
			.div2{
				background-color: blue;
				top: calc(100%/2);
				left: calc(100%/2);
			}
		</style>
	</head>
	<body>
		<div class="div1"></div>
		<div class="div2"></div>
		
		<script type="text/javascript">
			const oDiv1 = document.querySelector('.div1')
			const oDiv2 = document.querySelector('.div2')
			let L1 = 0,
				T1 = 0,
				L2=0,
				T2 = 0,
				L=0,
				T=0
			oDiv1.onmousedown = function(ev){
				L=ev.clientX-this.offsetLeft
				T=ev.clientY-this.offsetTop
				L2 = oDiv2.offsetLeft
				T2 =  oDiv2.offsetTop
				document.onmousemove = function(ev){
					oDiv1.style.left = ev.clientX-L+'px'
					oDiv1.style.top = ev.clientY-T+'px'
					if(ev.clientX-L==L2&&ev.clientY-T==T2){
						alert('重叠')
					}
				}
				document.onmouseup = function(){
					document.onmousemove = null
				} 
			}
		</script>
	</body>
</html>
